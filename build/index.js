(()=>{"use strict";var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var l in t)e.o(t,l)&&!e.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:t[l]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=window.React;var t=e.n(o);const l=window.wp.hooks,r=window.wp.compose,n=window.wp.blockEditor,a=window.wp.components,i=window.wp.element,c="sage/cover",d=(0,r.createHigherOrderComponent)((e=>t=>{const{attributes:l,setAttributes:r,name:c}=t;if("core/cover"!==c)return(0,o.createElement)(e,{...t});const{loopVideo:d,autoplayVideo:s,showPlayButton:p,coverImage:u}=l;return(0,o.createElement)(i.Fragment,null,(0,o.createElement)(e,{...t}),(0,o.createElement)(n.InspectorControls,null,(0,o.createElement)(a.PanelBody,{title:"Video Options",initialOpen:!0},(0,o.createElement)(a.ToggleControl,{label:"Loop Video",checked:d,onChange:e=>r({loopVideo:e})}),(0,o.createElement)(a.ToggleControl,{label:"Autoplay Video",checked:s,onChange:e=>r({autoplayVideo:e})}),(0,o.createElement)(a.ToggleControl,{label:"Show Play Button",checked:p,onChange:e=>r({showPlayButton:e})}),(0,o.createElement)(a.TextControl,{label:"Cover Image URL",value:u,onChange:e=>r({coverImage:e}),help:"This image will be used as the cover image for the video."}))))}),"withCoverControls");(0,l.addFilter)("blocks.registerBlockType",c,(function(e,o){return"core/cover"!==o?e:{...e,attributes:{...e.attributes,loopVideo:{type:"boolean",default:!1},autoplayVideo:{type:"boolean",default:!1},showPlayButton:{type:"boolean",default:!0},coverImage:{type:"string",default:""}}}})),(0,l.addFilter)("editor.BlockEdit",c,d),(0,l.addFilter)("blocks.getSaveElement",c,((e,l,r)=>{if("core/cover"!==l.name)return e;const{loopVideo:n,autoplayVideo:a,showPlayButton:i,coverImage:c}=r,d=Array.isArray(e.props.children)?e.props.children.filter(Boolean):[];console.log("Filtered Children:",d);const s=d.map((e=>(console.log("Processing Child:",e),e&&"video"===e.type?t().cloneElement(e,{loop:n,autoPlay:a,poster:c||e.props.poster}):e)));return console.log("Modified Children:",s),(0,o.createElement)("div",{...e.props},s,i&&(0,o.createElement)("div",{className:"wp-block-cover__play-button-overlay",style:{position:"absolute",zIndex:10}},(0,o.createElement)("button",{className:"wp-block-cover__play-button","aria-label":"Play Video"})))}))})();